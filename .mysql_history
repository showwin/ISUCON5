_HiStOrY_V2_
show\040databases;
use\040isucon5q
show\040tables;
SHOW\040INDEX\040FROM\040users
;
SHOW\040INDEX\040FROM\040users;
set\040global\040slow_query_log\040=\0401;
ls
;
\040show\040processlist;
show\040databases;
use\040isucon5q;
show\040tables;
ls
show\040databases;
show\040tables;
desc\040entries;
show\040create\040table\040entries;
show\040databases;
use\040isucon5q;
SELECT\040user_id,\040owner_id,\040DATE(created_at)\040AS\040date,\040MAX(created_at)\040AS\040updated
FROM\040footprints
WHERE\040user_id\040=\040?
GROUP\040BY\040user_id,\040owner_id,\040DATE(created_at)
ORDER\040BY\040updated\040DESC
LIMIT\04010;
SELECT\040user_id,\040owner_id,\040DATE(created_at)\040AS\040date,\040MAX(created_at)\040AS\040updated\040FROM\040footprints\040WHERE\040user_id\040=\040?\040GROUP\040BY\040user_id,\040owner_id,\040DATE(created_at)\040ORDER\040BY\040updated\040DESC\040LIMIT\04010;
SELECT\040user_id,\040owner_id,\040DATE(created_at)\040AS\040date,\040MAX(created_at)\040AS\040updated\040FROM\040footprints\040WHERE\040user_id\040=\0401\040GROUP\040BY\040user_id,\040owner_id,\040DATE(created_at)\040ORDER\040BY\040updated\040DESC\040LIMIT\04010;
explain\040SELECT\040user_id,\040owner_id,\040DATE(created_at)\040AS\040date,\040MAX(created_at)\040AS\040updated\040FROM\040footprints\040WHERE\040user_id\040=\0401\040GROUP\040BY\040user_id,\040owner_id,\040DATE(created_at)\040ORDER\040BY\040updated\040DESC\040LIMIT\04010;
SELECT\040user_id,\040owner_id,\040DATE(created_at)\040AS\040date,\040MAX(created_at)\040AS\040updated\040FROM\040footprints\040WHERE\040user_id\040=\040?\040GROUP\040BY\040user_id,\040owner_id,\040DATE(created_at)\040ORDER\040BY\040updated\040DESC\040LIMIT\04010;
SELECT\040user_id,\040owner_id,\040DATE(created_at)\040AS\040date,\040MAX(created_at)\040AS\040updated\040FROM\040footprints\040WHERE\040user_id\040=\0401\040GROUP\040BY\040user_id,\040owner_id,\040DATE(created_at)\040ORDER\040BY\040updated\040DESC\040LIMIT\04010;
SELECT\040c.id\040AS\040id,\040c.entry_id\040AS\040entry_id,\040c.user_id\040AS\040user_id,\040c.comment\040AS\040comment,\040c.created_at\040AS\040created_at
FROM\040comments\040c
JOIN\040entries\040e\040ON\040c.entry_id\040=\040e.id
WHERE\040e.user_id\040=\0401
ORDER\040BY\040c.created_at\040DESC
LIMIT\04010;
SELECT\040c.id\040AS\040id,\040c.entry_id\040AS\040entry_id,\040c.user_id\040AS\040user_id,\040c.comment\040AS\040comment,\040c.created_at\040AS\040created_at\040FROM\040comments\040c\040JOIN\040entries\040e\040ON\040c.entry_id\040=\040e.id\040WHERE\040e.user_id\040=\0401\040ORDER\040BY\040c.created_at\040DESC\040LIMIT\04010;
explain\040SELECT\040c.id\040AS\040id,\040c.entry_id\040AS\040entry_id,\040c.user_id\040AS\040user_id,\040c.comment\040AS\040comment,\040c.created_at\040AS\040created_at\040FROM\040comments\040c\040JOIN\040entries\040e\040ON\040c.entry_id\040=\040e.id\040WHERE\040e.user_id\040=\0401\040ORDER\040BY\040c.created_at\040DESC\040LIMIT\04010;
SELECT\040user_id,\040owner_id,\040DATE(created_at)\040AS\040date,\040MAX(created_at)\040AS\040updated\040FROM\040footprints\040WHERE\040user_id\040=\0401\040GROUP\040BY\040user_id,\040owner_id,\040DATE(created_at)\040ORDER\040BY\040updated\040DESC\040LIMIT\04010;
SELECT\040*\040FROM\040relations\040WHERE\040one\040=\0401\040OR\040another\040=\0402\040ORDER\040BY\040created_at\040DESC
;
explain\040SELECT\040user_id,\040owner_id,\040DATE(created_at)\040AS\040date,\040MAX(created_at)\040AS\040updated\040FROM\040footprints\040WHERE\040user_id\040=\0401\040GROUP\040BY\040user_id,\040owner_id,\040DATE(created_at)\040ORDER\040BY\040updated\040DESC\040LIMIT\04010;
\040SELECT\040user_id,\040owner_id,\040DATE(created_at)\040AS\040date,\040MAX(created_at)\040AS\040updated\040FROM\040footprints\040WHERE\040user_id\040=\0401\040GROUP\040BY\040user_id,\040owner_id,\040DATE(created_at)\040ORDER\040BY\040updated\040DESC\040LIMIT\04010;
\040\040\040\040select\040id,\040entry_id,\040user_id,\040comment,\040created_at
\040\040\040\040from\040comments
\040\040\040\040where\040entry_id\040in\040(?)
\040\040\040\040order\040by\040created_at\040desc
\040\040\040\040limit\04010;
select\040id,\040entry_id,\040user_id,\040comment,\040created_at\040\040\040\040\040from\040comments\040\040\040\040\040where\040entry_id\040in\040(?)\040\040\040\040\040order\040by\040created_at\040desc\040\040\040\040\040limit\04010;
select\040id,\040entry_id,\040user_id,\040comment,\040created_at\040\040\040\040\040from\040comments\040\040\040\040\040where\040entry_id\040in\040(1)\040\040\040\040\040order\040by\040created_at\040desc\040\040\040\040\040limit\04010;
SELECT\040*\040FROM\040entries\040ORDER\040BY\040created_at\040DESC\040LIMIT\0401000;
SELECT\040COUNT(*)\040AS\040cnt\040FROM\040relations\040WHERE\040(one\040=\0401\040AND\040another\040=\04011)\040OR\040(one\040=\0402\040AND\040another\040=\04022)
;
SELECT\040COUNT(*)\040AS\040cnt\040FROM\040relations\040WHERE\040(one\040in\040(1,\0402))\040and\040(another\040in\040(11,\04022);
SELECT\040COUNT(*)\040AS\040cnt\040FROM\040relations\040WHERE\040(one\040in\040(1,\0402))\040and\040(another\040in\040(11,\04022));
explain\040SELECT\040COUNT(*)\040AS\040cnt\040FROM\040relations\040WHERE\040(one\040in\040(1,\0402))\040and\040(another\040in\040(11,\04022));
explain\040SELECT\040COUNT(*)\040AS\040cnt\040FROM\040relations\040WHERE\040(one\040=\0401\040AND\040another\040=\04011)\040OR\040(one\040=\0402\040AND\040another\040=\04022);
\040\040\040\040select\040id,\040entry_id,\040user_id,\040comment,\040created_at
\040\040\040\040from\040comments
\040\040\040\040where\040entry_id\040in\040(?)
\040\040\040\040order\040by\040created_at\040desc
\040\040\040\040limit\04010;
select\040id,\040entry_id,\040user_id,\040comment,\040created_at\040\040\040\040\040from\040comments\040\040\040\040\040where\040entry_id\040in\040(?)\040\040\040\040\040order\040by\040created_at\040desc\040\040\040\040\040limit\04010;
select\040id,\040entry_id,\040user_id,\040comment,\040created_at\040\040\040\040\040from\040comments\040\040\040\040\040where\040entry_id\040in\040(1)\040\040\040\040\040order\040by\040created_at\040desc\040\040\040\040\040limit\04010;
SELECT\040*\040FROM\040entries\040ORDER\040BY\040created_at\040DESC\040LIMIT\0401000;
show\040tables;
desc\040comments;
desc\040relations;
SELECT\040*\040FROM\040relations\040WHERE\040one\040=\040'3438'\040OR\040another\040=\040'3438'\040ORDER\040BY\040created_at\040DESC;
desc\040relations;
select\040count(*)\040from\040relations;
desc\040relations;
SELECT\040COUNT(*)\040AS\040cnt\040FROM\040relations\040WHERE\040(one\040=\040'4982'\040AND\040another\040=\040'3829');
SELECT\040count(*)\040FROM\040relations\040WHERE\040(one\040=\040'4982'\040AND\040another\040=\040'3829')\040limit1;
SELECT\040count(*)\040FROM\040relations\040WHERE\040(one\040=\040'4982'\040AND\040another\040=\040'3829')\040limit\0401;
SELECT\0401\040FROM\040relations\040WHERE\040(one\040=\040'4982'\040AND\040another\040=\040'3829')\040limit\0401;
SELECT\040id\040FROM\040relations\040WHERE\040(one\040=\040'4982'\040AND\040another\040=\040'3829')\040limit\0401;
SELECT\040count(*)\040FROM\040relations\040WHERE\040(one\040=\040'4982'\040AND\040another\040=\040'3829')\040limit\0401;
SELECT\0401\040AS\040cnt\040FROM\040relations\040WHERE\040(one\040=\040?\040AND\040another\040=\040?)\040limit\0401
;
desc\040relations;
SELECT\040id\040FROM\040relations\040WHERE\040(one\040=\040?\040AND\040another\040=\040?)\040limit\0401
;
SELECT\040id\040FROM\040relations\040WHERE\040(one\040=\040'4982'\040AND\040another\040=\040'3829')\040limit\0401;
SELECT\040count(*)\040FROM\040relations\040WHERE\040(one\040=\040'4982'\040AND\040another\040=\040'3829')\040limit\0401;
SELECT\0401\040FROM\040relations\040WHERE\040(one\040=\040'4982'\040AND\040another\040=\040'3829')\040limit\0401;
show\040index\040from\040relations;
explain\040SELECT\040count(*)\040FROM\040relations\040WHERE\040(one\040=\040'4982'\040AND\040another\040=\040'3829');
explain\040SELECT\040count(*)\040FROM\040relations\040WHERE\040(one\040=\040'4982'\040AND\040another\040=\040'3829')\040limit\0401;
SELECT\040*\040FROM\040relations\040WHERE\040one\040=\040'3328'\040ORDER\040BY\040created_at\040DESC;
show\040tables;
show\040databaes;
show\040databases;
use\040mysql
show\040tables;
use\040isucon5q
show\040tables;
show\040processlist;
SELECT\0401\040AS\040cnt\040FROM\040relations\040WHERE\040(one\040=\040'4672'\040AND\040another\040=\040'71\040limit\0401;
show\040databases;
select\040count(*)\040from\040comments
;
show\040databases;
use\040isucon5q;
show\040processlist;
select\040count(*)\040from\040entries;
show\040processlist;
show\040tables;
select\040count(*)\040from\040comments;
select\040count(*)\040from\040footprints;
select\040count(*)\040from\040users;
select\040count(*)\040from\040salts;
select\040count(*)\040from\040profiles;
show\040processlist;
show\040databases;
use\040isucon5q
SELECT\040*\040FROM\040entries\040ORDER\040BY\040id\040DESC\040LIMIT\0401000;
